dt[,unqiue()]
dt[,unqiue(state)]
dt[,state]
unique(dt[,state])
match('NY', dt[,state])
match('AL', dt[,state])
match('CA', dt[,state])
match('AK', dt[,state])
match(,dt[,state]=='AL')
match(,state=='AL')
dt[,state=='AL']
which(dt[,state=='AL'])
which(dt[,state=='AK'])
unique(dt[,state=='AK'])
unique(dt[,state]
)
dt[, state]
dt[, c(state, state)]
dt[, list(state, state)]
dt[, list(state, 'heart attack')]
dt[, c(state, 'heart attack')]
dt[, .(state, 'heart attack')]
dt[, .(state, 'heart attack', state)]
colnames(df) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
dt <- as.data.table(df)
dt[, .(state, 'heart attack', state)]
dt[, .(state, quote('heart attack), state)]
)
dt[, .(state, quote('heart attack'), state)]
dt[, .(state, eval(quote('heart attack')), state)]
summary(dt)
df(,sum('heart attack'))
df(,sum(heart attack))
df(,sum(state))
df[,sum(state)]
df[,state]
dt[,sum(state)]
df <- cbind(df, 'heart attack' = as.numeric(outcomes[, mort[1]]))
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(outcomes))
df <- outcomes[, 2]
df <- cbind(df, state = outcomes$State)
df <- cbind(df, 'heart attack' = as.numeric(outcomes[, mort[1]]))
df <- cbind(df, 'heart failure' = as.numeric(outcomes[, mort[2]]))
df <- cbind(df, pneumonia = as.numeric(outcomes[, mort[3]]))
df <- cbind(df, pneumonia = as.numeric(outcomes[, mort[3]]))
colnames(df) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(outcomes))
df <- outcomes[, 2]
df <- cbind(df, state = outcomes$State)
df <- cbind(df, 'heart attack' = as.numeric(outcomes[, mort[1]]))
df <- cbind(df, 'heart failure' = as.numeric(outcomes[, mort[2]]))
df <- cbind(df, pneumonia = as.numeric(outcomes[, mort[3]]))
colnames(df) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(outcomes))
df <- outcomes[, 2]
df <- cbind(df, state = outcomes$State)
df <- cbind(df, as.numeric(outcomes[, mort[1]]))
df <- cbind(df, as.numeric(outcomes[, mort[2]]))
df <- cbind(df, as.numeric(outcomes[, mort[3]]))
colnames(df) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
dt <- as.data.table(df)
??as.numeric
numeric('a')
as.numeric('a')
class(as.numberic('a'))
class(as.numeric('a'))
??as.data.table
DT[a]
DT[outcomes]
DT <- as.data.table(outcomes)
names(DT)
keys(DT)
DF$State
tables()
rm(DT)
colNum
rm(colNum)
sapply(dt[, 3, with=F], as.numerica)
sapply(dt[, 3, with=F], as.numeric)
vapply(dt[, 3, with=F], as.numeric)
vapply(dt[, 3, with=F], as.numeric, 'numeric')
??vapply
example(vapply)
??vapply
vapply(dt[, 3, with=F], as.numeric, numeric)
vapply(dt[, 3, with=F], as.numeric)
dt[, 3, with=F]
class(dt[, 3, with=F])
type(dt[, 3, with=F])
?as.numberic
?as.numeric
DT <- as.data.table(x=c('a','b','c'))
DT[dt]
?setkey
haskey(dt)
setkey(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
setkeyv(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
haskey(dt)
key(dt)
dt(,'heart attack')
dt[],'heart attack']
dt[,'heart attack']
setkeyv(dt, c('hospital', 'state', 'heart.attack', 'heart.failure', 'pneumonia'))
setkeyv(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
colnames(outcomes)
colnames(outcomes) == 'State'
which(colnames(outcomes) == 'State')
head(outcomes[, c(2, 7, mort)])
colnames(outcomes[, c(2, 7, mort)])
df <- outcomes[, c(2, 7, mort)]
sapply(df, as.numeric)
sapply(df[,3:5], as.numeric)
df[,3:5] <- sapply(df[,3:5], as.numeric)
rm(DT)
rm(DF)
colnames(df) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
df <- outcomes[, !c(2, 7, mort)]
View(df)
View(df)
df <- outcomes[, -c(2, 7, mort)]
?read.csv
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character", nrows = 1)
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character", nrows = 0)
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character", nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(outcomes))
rm(list=ls())
?read.table
?read.data.table
e
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character", nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(outcomes))
dt2 <- as.data.table(read.csv("outcome-of-care-measures.csv", colClasses = "character"))[, c(2, 7, mort)]
dt2 <- as.data.table(read.csv("outcome-of-care-measures.csv", colClasses = "character")[, c(2, 7, mort)])
head <- read.csv(url, nrows = 1)
#Read outcome data
url <- 'outcome-of-care-measures.csv'
head <- read.csv(url, nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(head))
dt2 <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
df <- dt[, 1:5, whitch=F]
df <- dt[, 1:5, which=F]
df <- dt[, 1:5, with=F]
rm(dt2)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
df <- dt[, 1:5, with=F]
tables()
sizes()
size()
head(sapply(dt[, 3:5, with=F], as.numeric))
dt[,3:5, with=F] <- sapply(dt[, 3:5, with=F], as.numeric)
dt[,3:5, with=F] <- sapply(dt[, 3:5], as.numeric)
dt <- sapply(dt, as.numeric)
View(dt)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
dt[, 3:5] <- sapply(dt[, 3:5], as.numeric)
dt[, 3:5, with=F] <- sapply(dt[, 3:5], as.numeric)
dt[, 3:5, with=F] <- sapply(dt[, 3:5, with=F], as.numeric)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
colnames(dt) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
class(df)
class(dt)
df <- as.data.fram(dt)
df <- as.data.frame(dt)
class(df)
tables()
dt[, 3:5, with=F] <- sapply(dt[, as.numeric('heart attack'))
sapply(dt, as.numberic)
sapply(dt, as.numeric)
sapply(dt, as.numeric, c(3:5))
sapply(dt[3:5], as.numeric)
dt[3:5]
dt[, 3:5]
sapply(dt[, 3:5], as.numeric)
dt[, 3:5, as.numeric]
dt[, as.numeric(3:5)]
head(dt[, as.numeric(3:5)])
head(dt[, as.numeric])
summary(dt[, as.numeric])
,
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
colnames(dt) <- c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
setnames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia')
setnames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setnames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
setnames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
setnames(dt, colname(dt), c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
setnames(dt, colnames(dt), c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
??setnames
setNames(dt, colnames(dt), c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
rm(list=ls())
url <- 'outcome-of-care-measures.csv'
head <- read.csv(url, nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(head))
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
colnames(dt)
dt$hospital
dt$state
dt[['heart attack']]
dt[['heart attack', 'state']]
dt[[c('heart attack','heart failure']]
dt[[c('heart attack','heart failure')]]
dt[c('heart attack','heart failure')]
dt[, c('heart attack','heart failure')]
class(dt[, c('heart attack','heart failure')])
class(dt[, 3:4, with=T])
class(dt[, 3:4, with=F])
sapply(dt[, 3:4, with=F], as.numeric)
sapply(dt[, 3:5, with=F], as.numeric)
dt[, 3:5] <- sapply(dt[, 3:5, with=F], as.numeric)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
dt[, 3:5, with=F] <- sapply(dt[, 3:5, with=F], as.numeric)
sapply(dt[, 3:5, with=F], as.numeric)
x=sapply(dt[, 3:5, with=F], as.numeric)
x
View(x)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
dt[, as.numeri]
dt[, as.numeric]
print(dt[, as.numeric])
print(dt[, as.numeric()])
print(dt[x<100, as.numeric()])
print(dt[x<100, as.numeric])
print(dt[x<100, as.numeric])
dt[, state]
dt[, 3]
dt[, 3:5]
dt[, 3:5, as.numeric]
dt <- sapply(dt[, 3:5, with=F], as.numeric)
dt <- sapply(dt[, 3:5, with=F], as.numeric)
View(dt)
class(dt)
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
dt[, 3:5, with=F] <- sapply(dt[, 3:5, with=F], as.numeric)
dt[[3:5]]
dt[[c(3:5)]]
dt[][3]
dt[3][3]
dt[3,with=F][3]
dt[,3,with=F][3]
dt[,3,with=F]
dt[,3:5,with=F]
x <- sapply(dt[, 3:5, with=F], as.numeric)
dt[, 'heart attack', with=T]
dt[, 'heart attack', with=F]
rank(dt[, 'heart attack', with=F])
rank(dt[, 'heart attack', with=F], rm.na=T)
rank(dt[, 'heart attack', with=F], na.rm=T)
??rank
dt[, 'heart attack', with=F, rm.na=T]
dt[, 'heart attack', with=F, na.rm=T]
df <- as.data.frame(dt)
df[, 3:5] <- sapply(df[, 3:5], as.numeric)
rm(list=ls())
url <- 'outcome-of-care-measures.csv'
head <- read.csv(url, nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(head))
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
df <- as.data.frame(dt)
df[, 3:5] <- sapply(df[, 3:5], as.numeric)
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', '')
best('NY', 'heart attack')
dt[, c(state, outcome)]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
View(head)
df[, 'heart attack']
df[, c(state,'heart attack')]
df[c(state,'heart attack')]
df[c(state,'heart attack')][]
df[state]
dt[state]
dt[, state]
df[, c(state,'heart attack')]
df[, c('state','heart attack')]
completecase(df[, c('state','heart attack')])
completecases(df[, c('state','heart attack')])
completedcases(df[, c('state','heart attack')])
complete(df[, c('state','heart attack')])
complete.case(df[, c('state','heart attack')])
complete.cases(df[, c('state','heart attack')])
best('NY', 'heart attack')
print(outcome)
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
df[, c(state, which(colnames(df) == outcome))]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
df[, c(state, 2)]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
df[, 2:3]
df[, "state"]
df[, c("state","heart attack"]
df[, c("state","heart attack")]
?quote
outcome <- 'heart attack'
df[, outcome]
df[, c('NY', outcome)]
class(outcome)
df[, c(1, 2)]
dt[[1]]
dt[[1,2]]
dt[1:2]
dt[1]
df[1]
dt[1]
dt[, 1]
df[, c('NY')]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY')
best('NY', 'heart attack')
dt <- as.data.table(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
setNames(dt, c('hospital', 'state', 'heart attack', 'heart failure', 'pneumonia'))
df <- as.data.frame(dt)
df[, 3:5] <- sapply(df[, 3:5], as.numeric)
df$state
df$state == 'TX'
df[df$state == 'TX', ]
df[which(df$state == 'TX'), ]
df[which(df$state == 'TX'), ]
which(df$state == 'TX')
df[which(df$state == state),]
df[which(df$state == 'NY'),]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'heart attack')
df["heart attack"]
df[outcome]
[which(df$state == state & df[outcome] == outcome)
which(df$state == 'state'NY & df[outcome] == outcome)
which(df$state == 'NY' & df[outcome] == outcome)
which(df$state == 'NY' && df[outcome] == outcome)
which(df$state == 'NY' and df[outcome] == outcome)
??rank
rank(df["heart attack"])
rank(df[,"heart attack"])
y <- rank(df[,"heart attack"])
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
df <- as.data.frame(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
df[, 3:5] <- sapply(df[, 3:5], as.numeric)
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
dt[, rank:=rank(-count,ties.method="first"), by=outcome]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
dt[, state]
dt[, pneumonia]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
best('NY', 'pneumoniaf')
best('NYf', 'pneumonia')
best('NY', 'pneumonia')
dt[order(state)]
dt[order(pneumona)]
dt[order(pneumonia)]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
state <- 'NY'
outcome <- 'heart attack'
dt[, .(state, outcome)]
library(data.table)
library(data.table)
dt[, .(state, outcome)]
outcome <- 'heart.attack'
dt[, .(state, outcome)]
dt <- as.data.table(df)
s
s
s
#Read outcome data
url <- 'outcome-of-care-measures.csv'
head <- read.csv(url, nrows = 1)
mort <- grep('^Hospital.30.Day.Death..Mortality', colnames(head))
acceptable <- c('heart attack', 'heart failure', 'pneumonia')
df <- as.data.frame(read.csv(url, colClasses = "character")[, c(2, 7, mort)])
df[, 3:5] <- sapply(df[, 3:5], as.numeric)
colnames(df) <- c('hospital', 'state', 'heart.attack','heart.failure', 'pneumonia')
dt <- as.data.table(df)
dt[, .(state, outcome)]
dt[, list(state, outcome)]
dt[, list(state, 4)]
dt
dt[dt$state='NY', list(state, 4)]
dt[dt$state=='NY', list(state, 4)]
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
best('NY', 'pneumonia')
dt[dt$state ='NY', ]
dt[dt$state =='NY', ]
dt[dt$state == state]
best('NY', 'pneumonia')
dt[dt$state == state]
state
dt[dt$state == 'NY']
state = 'NY'
dt[dt$state == state]
class(state)
dt$state == state
dt[dt$state == state]
dt[which(dt$state == state)]
dt[,which(dt$state == state)]
dt[,dt$state == state)]
dt[,dt$state == state]
dt[state]
dt[,state]
df[df$state == state]
df[df$state]
df[df$state == 'NY']
df[df$state == 'NY', 3]
which(df[df$state == 'NY', 3])
df[df$state == 'NY']
which(df[df$state == 'NY'])
df[df$state == 'NY', ]
df[df$state == 'NY', 3]
is.na(df[df$state == 'NY', 3])
!is.na(df[df$state == 'NY', 3])
rank(df[which(!is.na(df[df$state == 'NY', 3])), 3]
rank(df[which(!is.na(df[df$state == 'NY', 3])), 3])
dt[,rank:=rank(-pneumonia,ties.method="first")]
dt[,rank:=rank(-pneumonia,ties.method="first")]
print(dt[,rank:=rank(-pneumonia,ties.method="first")])
dt
print(dt[,rank:=rank(-pneumonia,ties.method="first"),by=rank])
View(dt)
View(dt)
dt[,yrank:=rank(-pneumonia,ties.method="first")]
print(dt[,rank:=rank(-pneumonia,ties.method="first"),by=rank])
print(dt[,rank:=rank(-pneumonia,ties.method="first"),order(rank)])
dt[,order(state)]
dt[,order(pnemonia)]
dt[,order(pnuemonia)]
dt[,order(pneumonia)]
min(dt[,order(pneumonia)])
dt[,order(pneumonia)]
dt[min(dt[,order(pneumonia)])]
dt[1]
dt[, state,order(pneumonia)]
dt[, order[-state]]
dt[, -order(state)]
rank(df[,'pneumonia'] == 1)
rank(rank(df[,'pneumonia']) == 1)
(rank(df[,'pneumonia']) == 1)
df[,(rank(df[,'pneumonia']) == 1)]
df[rank(df[,'pneumonia']) == 1]
df[rank(df[,'pneumonia']) == 1, 1]
df[rank(df[df$state='TX','heart.attack']) == 1, 1]
df[rank(df[df$state=='TX','heart.attack']) == 1, 1]
df2 <- df[rank(df[df$state=='TX','heart.attack']) == 1, 1]
df2
order(df[[1]])
order(df2[[1]])
df2
colname(df2)
colnames(df2)
df2 <- df[rank(df[df$state=='TX','heart.attack']) == 1, ]
df2[order(df2$state),]
df2 <- df[rank(df[df$state=='TX','heart.attack']) == 1, ]
df[df$state=='TX','heart.attack']
source('C:/Users/Lawrence/OneDrive/Data Science/2. R Programming/Programming3/best.R')
df[order[df$hospital],]
df[order(df$hospital),]
df[order(df$hospital),]
df[order(df$hospital),]
df2 <- df[df$state == state,]
df2
head(df2)
df2[order(df2$heart.attack, df2$hospital)]
df2[order(df2$heart.attack, df2$hospital), ]
head(df2[order(df2$heart.attack, df2$hospital), ])
df2[order(df2$heart.attack, df2$hospital), ][1]
df2[order(df2$heart.attack, df2$hospital), ][1,1]
df2[order(df2$heart.attack, df2$hospital), ][1]
df2[order(df2$heart.attack, df2$hospital), ][1,2]
df2[order(df2$heart.attack, df2$hospital), ][2,1]
df2[order(df2$heart.attack, df2$hospital), ][2,2]
df2[order(df2$heart.attack, df2$hospital), ][2,3]
df2[order(df2$heart.attack, df2$hospital), ][,3]
df2[order(df2$heart.attack, df2$hospital), ][,3:4]
